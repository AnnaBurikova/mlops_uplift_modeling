schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: data/raw/dataset.csv
      hash: md5
      md5: bc4ac8437ab6ab96541d8351f5409c6d
      size: 580744768
    - path: params.yaml
      hash: md5
      md5: 7a35bc9fd3af196a6591a17bf854a33c
      size: 767
    - path: src/prepare.py
      hash: md5
      md5: 1cd5778f463967ae412e704ad6c8b5d1
      size: 1606
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 5ec4ed5a482abadda4042088b7985d6f
      size: 57320773
    - path: data/processed/train.csv
      hash: md5
      md5: d57cbc19f2051459ae9f8c35e88de9f0
      size: 412701621
    - path: data/processed/val.csv
      hash: md5
      md5: b639d7556277440f0bfc0e6dd86f33e8
      size: 103177408
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 5ec4ed5a482abadda4042088b7985d6f
      size: 57320773
    - path: data/processed/train.csv
      hash: md5
      md5: d57cbc19f2051459ae9f8c35e88de9f0
      size: 412701621
    - path: data/processed/val.csv
      hash: md5
      md5: b639d7556277440f0bfc0e6dd86f33e8
      size: 103177408
    - path: params.yaml
      hash: md5
      md5: 7a35bc9fd3af196a6591a17bf854a33c
      size: 767
    - path: src/train.py
      hash: md5
      md5: 346cdf6567543aae8a94899aad5c31af
      size: 1825
    outs:
    - path: models/s_learner.pkl
      hash: md5
      md5: 84e7d94a99c755b3ec3a0f08399950a9
      size: 235759
    - path: models/t_learner.pkl
      hash: md5
      md5: d3f972cdea7662db7f05ad81468384cf
      size: 471286
    - path: models/tarnet_learner.pth
      hash: md5
      md5: 8904e0c28ab96211e04f9dac77aa5d73
      size: 52213
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 5ec4ed5a482abadda4042088b7985d6f
      size: 57320773
    - path: data/processed/train.csv
      hash: md5
      md5: d57cbc19f2051459ae9f8c35e88de9f0
      size: 412701621
    - path: data/processed/val.csv
      hash: md5
      md5: b639d7556277440f0bfc0e6dd86f33e8
      size: 103177408
    - path: params.yaml
      hash: md5
      md5: 7a35bc9fd3af196a6591a17bf854a33c
      size: 767
    - path: src/evaluate.py
      hash: md5
      md5: 433822c8f7eb5f68055180692eb77dc8
      size: 4183
    outs:
    - path: reports/qini_curve_S-Learner.png
      hash: md5
      md5: aff3cbd19e0f313bb142d6b4c85eca2a
      size: 32649
    - path: reports/qini_curve_T-Learner.png
      hash: md5
      md5: 76444be3eb3e6c4774615ab939003858
      size: 32899
    - path: reports/qini_curve_TarNet.png
      hash: md5
      md5: 86bd0759caa7387e482f740e21d37673
      size: 33311
    - path: reports/results.json
      hash: md5
      md5: 89dbf4ab47a4836f02c6ad729a9e0d5b
      size: 822
